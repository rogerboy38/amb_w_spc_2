{
    "name": "mrp_planning",
    "doctype": "DocType",
    "module": "sfc_manufacturing",
    "is_submittable": 1,
    "istable": 0,
    "issingle": 0,
    "is_tree": 0,
    "is_calendar_and_gantt": 0,
    "quick_entry": 0,
    "track_changes": 1,
    "track_seen": 1,
    "track_views": 1,
    "custom": 0,
    "beta": 0,
    "is_virtual": 0,
    "queue_in_background": 0,
    "naming_rule": "Expression",
    "autoname": "field:naming_series",
    "allow_rename": 1,
    "description": "Material Requirement Planning with multi-level work order generation",
    "documentation": "",
    "permissions": [
        {
            "role": "System Manager",
            "permlevel": 0,
            "select": 1,
            "read": 1,
            "write": 1,
            "create": 1,
            "delete": 1,
            "submit": 1
        },
        {
            "role": "Manufacturing Manager",
            "permlevel": 0,
            "select": 1,
            "read": 1,
            "write": 1,
            "create": 1,
            "delete": 0,
            "submit": 1
        },
        {
            "role": "Manufacturing User",
            "permlevel": 0,
            "select": 1,
            "read": 1,
            "write": 0,
            "create": 0,
            "delete": 0,
            "submit": 0
        }
    ],
    "restrict_to_domain": "",
    "read_only": 0,
    "in_create": 0,
    "protect_attached_files": 1,
    "fields": [
        {
            "fieldname": "basic_info_section",
            "label": "Basic Information",
            "fieldtype": "Section Break"
        },
        {
            "fieldname": "naming_series",
            "label": "MRP Planning Nr.",
            "fieldtype": "Select",
            "options": "MRP-.YY.-.####",
            "reqd": 1,
            "default": "MRP-.YY.-.####"
        },
        {
            "fieldname": "column_break_1",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "planning_date",
            "label": "Planning Date",
            "fieldtype": "Date",
            "reqd": 1,
            "default": "Today"
        },
        {
            "fieldname": "planned_start_date",
            "label": "Planned Start Date",
            "fieldtype": "Date",
            "reqd": 1
        },
        {
            "fieldname": "required_date",
            "label": "Required Date",
            "fieldtype": "Date",
            "reqd": 1
        },
        {
            "fieldname": "input_section",
            "label": "Input Sources",
            "fieldtype": "Section Break"
        },
        {
            "fieldname": "source_type",
            "label": "Source Type",
            "fieldtype": "Select",
            "options": "Sales Order\nPlanned Inventory Order\nManual Requirement",
            "reqd": 1,
            "default": "Sales Order"
        },
        {
            "fieldname": "sales_order",
            "label": "Sales Order",
            "fieldtype": "Link",
            "options": "Sales Order",
            "depends_on": "eval:doc.source_type == 'Sales Order'"
        },
        {
            "fieldname": "column_break_2",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "company",
            "label": "Company",
            "fieldtype": "Link",
            "options": "Company",
            "reqd": 1,
            "default": "AMB-Wellness"
        },
        {
            "fieldname": "customer",
            "label": "Customer",
            "fieldtype": "Link",
            "options": "Customer",
            "read_only": 1
        },
        {
            "fieldname": "warehouse",
            "label": "Warehouse",
            "fieldtype": "Link",
            "options": "Warehouse"
        },
        {
            "fieldname": "items_section",
            "label": "MRP Items",
            "fieldtype": "Section Break"
        },
        {
            "fieldname": "mrp_items",
            "label": "MRP Items",
            "fieldtype": "Table",
            "options": "MRP Planning Item",
            "reqd": 1
        },
        {
            "fieldname": "work_orders_section",
            "label": "Generated Work Orders",
            "fieldtype": "Section Break"
        },
        {
            "fieldname": "generated_work_orders",
            "label": "Generated Work Orders",
            "fieldtype": "Table",
            "options": "MRP Work Order",
            "read_only": 1
        },
        {
            "fieldname": "materials_section",
            "label": "Material Requirements",
            "fieldtype": "Section Break"
        },
        {
            "fieldname": "material_requirements",
            "label": "Material Requirements",
            "fieldtype": "Table",
            "options": "MRP Material Requirement",
            "read_only": 1
        },
        {
            "fieldname": "status_section",
            "label": "Status",
            "fieldtype": "Section Break"
        },
        {
            "fieldname": "planning_status",
            "label": "Planning Status",
            "fieldtype": "Select",
            "options": "Draft\nPlanning\nWork Orders Generated\nMaterials Planned\nCompleted\nCancelled",
            "default": "Draft",
            "read_only": 1,
            "in_list_view": 1
        },
        {
            "fieldname": "column_break_3",
            "fieldtype": "Column Break"
        },
        {
            "fieldname": "total_work_orders",
            "label": "Total Work Orders",
            "fieldtype": "Int",
            "read_only": 1
        },
        {
            "fieldname": "total_material_requirements",
            "label": "Total Material Requirements",
            "fieldtype": "Int",
            "read_only": 1
        },
        {
            "fieldname": "total_estimated_cost",
            "label": "Total Estimated Cost",
            "fieldtype": "Currency",
            "read_only": 1
        },
        {
            "fieldname": "amended_from",
            "label": "Amended From",
            "fieldtype": "Link",
            "options": "MRP Planning",
            "read_only": 1,
            "hidden": 1,
            "no_copy": 1
        }
    ],
    "title": "MRP Planning"
}